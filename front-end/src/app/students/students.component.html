<div class="container mt-5">
    <h1 class="mb-4">Liste des Étudiants</h1>
  
    <!-- Affichage du message d'erreur -->
    <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
  
    <!-- Formulaire pour ajouter un étudiant -->
    <form (ngSubmit)="addStudent()" class="mb-4">
      <div class="row">
        <div class="col-md-4 mb-3">
          <label for="firstName" class="form-label">Prénom :</label>
          <input
            id="firstName"
            [(ngModel)]="newStudent.firstName"
            name="firstName"
            required
            class="form-control"
          />
        </div>
        <div class="col-md-4 mb-3">
          <label for="lastName" class="form-label">Nom :</label>
          <input
            id="lastName"
            [(ngModel)]="newStudent.lastName"
            name="lastName"
            required
            class="form-control"
          />
        </div>
        <div class="col-md-4 mb-3">
          <label for="class" class="form-label">Classe :</label>
          <input
            id="class"
            [(ngModel)]="newStudent.class"
            name="class"
            required
            class="form-control"
          />
        </div>
      </div>
      <button type="submit" class="btn btn-primary" [disabled]="loading">Ajouter l'étudiant</button>
    </form>
  
    <!-- Liste des étudiants -->
    <div *ngIf="loading" class="text-center">
      <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
      Chargement...
    </div>
  
    <ul *ngIf="!loading" class="list-group">
      <li *ngFor="let student of students; trackBy: trackByStudentId" class="list-group-item d-flex justify-content-between align-items-center">
        {{ student.firstName }} {{ student.lastName }} - Classe : {{ student.class }}
        <button
          class="btn btn-danger btn-sm"
          (click)="deleteStudent(student.id)"
          title="Supprimer"
        >
          Supprimer
        </button>
      </li>
    </ul>
</div>  